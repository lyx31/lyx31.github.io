!function webpackUniversalModuleDefinition(o,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.monitor=n():(o.__WEBPACK_GLOBAL__=o.__WEBPACK_GLOBAL__||{},o.__WEBPACK_GLOBAL__.monitor=n())}("undefined"!=typeof self?self:this,function(){return _={},e.m=t={179:function(o,n){var t;function _(o,n,t){return n in o?Object.defineProperty(o,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[n]=t,o}var e={MonitorId:{DESIGN_SAVE:7332,RAPID_SITE_OPEN:7346,FORM_SUBMIT:7347,ADD_MODULE:7348,EDIT_MODULE:7349,HIDE_MODULE:7350,COPY_MODULE:7351,INIT_MODULES:7352,INIT_MODULE_STYLE:7353,MODULE_STATE_SWITCH:7354,OPEN_EDIT_PANEL:7355,OPEN_FUN_PANEL:7356,RAPID_SITE_INIT_DATA:9020,R_DESIGN_SAVE:9027,R_FORM_SUBMIT:9029,R_ADD_MODULE:9031,R_EDIT_MODULE:9033,R_HIDE_MODULE:9034,R_COPY_MODULE:9035,R_INIT_MODULES:9036,R_OPEN_FUN_PANEL:9040,R_ADD_MATERIAL:9037,R_FULL_SCREEN:9038,R_MODULE_REACT:9039,R_SYSTEM_MODULE_REACT:9058},AlarmMonitorId:{DESIGN_SAVE:7345,RAPID_SITE_OPEN:7333,FORM_SUBMIT:7334,ADD_MODULE:7335,EDIT_MODULE:7336,HIDE_MODULE:7337,COPY_MODULE:7338,INIT_MODULES:7339,INIT_MODULE_STYLE:7340,MODULE_STATE_SWITCH:7341,JZ_UTILS:7344,OPEN_EDIT_PANEL:7342,OPEN_FUN_PANEL:7343,R_DESIGN_SAVE:9028,R_FORM_SUBMIT:9030,R_ADD_MODULE:9032,R_EDIT_MODULE:9041,R_HIDE_MODULE:9042,R_COPY_MODULE:9043,R_INIT_MODULES:9044,R_OPEN_FUN_PANEL:9048,R_ADD_MATERIAL:9045,R_FULL_SCREEN:9047,R_MODULE_REACT:9046,R_SYSTEM_MODULE_REACT:9057}},r=e.MonitorId,E=e.AlarmMonitorId;e._AutoAlarmMonitorMap=(_(t={},r.DESIGN_SAVE,E.DESIGN_SAVE),_(t,r.RAPID_SITE_OPEN,E.RAPID_SITE_OPEN),_(t,r.FORM_SUBMIT,E.FORM_SUBMIT),_(t,r.ADD_MODULE,E.ADD_MODULE),_(t,r.HIDE_MODULE,E.HIDE_MODULE),_(t,r.COPY_MODULE,E.COPY_MODULE),_(t,r.INIT_MODULES,E.INIT_MODULES),_(t,r.INIT_MODULE_STYLE,E.INIT_MODULE_STYLE),_(t,r.MODULE_STATE_SWITCH,E.MODULE_STATE_SWITCH),_(t,r.OPEN_EDIT_PANEL,E.OPEN_EDIT_PANEL),_(t,r.OPEN_FUN_PANEL,E.OPEN_FUN_PANEL),_(t,r.R_DESIGN_SAVE,E.R_DESIGN_SAVE),_(t,r.R_FORM_SUBMIT,E.R_FORM_SUBMIT),_(t,r.R_ADD_MODULE,E.R_ADD_MODULE),_(t,r.R_EDIT_MODULE,E.R_EDIT_MODULE),_(t,r.R_HIDE_MODULE,E.R_HIDE_MODULE),_(t,r.R_COPY_MODULE,E.R_COPY_MODULE),_(t,r.R_INIT_MODULES,E.R_INIT_MODULES),_(t,r.R_OPEN_FUN_PANEL,E.R_OPEN_FUN_PANEL),_(t,r.R_ADD_MATERIAL,E.R_ADD_MATERIAL),_(t,r.R_FULL_SCREEN,E.R_FULL_SCREEN),_(t,r.R_MODULE_REACT,E.R_MODULE_REACT),_(t,r.R_SYSTEM_MODULE_REACT,E.R_SYSTEM_MODULE_REACT),t),o.exports=e},279:function(o,n,t){"use strict";t.r(n);t(280)},280:function(o,n,t){var _=t(281),e=t(179);n.Monitor=_,n.MonitorDef=e,"undefined"!=typeof window&&(window.Monitor=_,window.MonitorDef=e),Function.prototype.bindMonitor=function(o){return _.monitorDecorator(this)(o)}},281:function(o,n,t){function e(o,n){for(var t=0;t<n.length;t++){var _=n[t];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(o,_.key,_)}}var E=t(179),_=function(){function r(){!function t(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r)}return function _(o,n,t){return n&&e(o.prototype,n),t&&e(o,t),o}(r,null,[{key:"startMonitor",value:function(n){var t=this;if(!n)return console.error("请传入 monitorId"),function(){};var o=new Date;return r._monitors[n]={startTime:o},function(){var o=!(0<arguments.length&&arguments[0]!==undefined)||arguments[0];return t.endMonitor(n,o)}}},{key:"endMonitor",value:function(o){var n=!(1<arguments.length&&arguments[1]!==undefined)||arguments[1],t=r._monitors[o];delete r._monitors[o],t&&t.startTime&&this.logMonitor(o,!n,new Date-t.startTime)}},{key:"logMonitor",value:function(o,n,t){this._sendData({monitorId:o,cmd:"logMonitor",isError:n,consumeTime:t,alarmMonitorId:this._getAutoAlarmMonitorId(o)})}},{key:"logAlarmMonitor",value:function(o){this._sendData({monitorId:o,cmd:"logAlarmMonitor"})}},{key:"_sendData",value:function(o){location.search.includes("monitor_log")&&console.log("监控上报",o);$.ajax({url:"ajax/frontMonitor_h.jsp",type:"post",data:o,success:function(o){var n=JSON.parse(o);n.success||console.error("监控数据上报错误",n)},error:function(o){console.error("监控数据上报错误",o)}})}},{key:"_getAutoAlarmMonitorId",value:function(o){return E._AutoAlarmMonitorMap[o]||0}},{key:"monitorDecorator",value:function(e){return function(_){return function(){var o,n=r.startMonitor(_);try{o=e.apply(this,arguments)}catch(t){throw n(!1),t}return o instanceof Promise?o.then(function(o){return n(!0),o})["catch"](function(o){throw n(!1),o}):(n(!0),o)}}}}]),r}();_._monitors={},o.exports=_}},e.c=_,e.d=function(o,n,t){e.o(o,n)||Object.defineProperty(o,n,{enumerable:!0,get:t})},e.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},e.t=function(n,o){if(1&o&&(n=e(n)),8&o)return n;if(4&o&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&o&&"string"!=typeof n)for(var _ in n)e.d(t,_,function(o){return n[o]}.bind(null,_));return t},e.n=function(o){var n=o&&o.__esModule?function(){return o["default"]}:function(){return o};return e.d(n,"a",n),n},e.o=function(o,n){return Object.prototype.hasOwnProperty.call(o,n)},e.p="",e(e.s=279);function e(o){if(_[o])return _[o].exports;var n=_[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var t,_});